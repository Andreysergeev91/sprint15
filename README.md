# Проектная работа 15 v1.0.0

API проекта Mesto позволяет пользователям создавать карточки, а также просматривать карточки созданные другими пользователями. Ниже приведены форматы HTTP запросов и ответов API, а также ответы сервера в случае ошибки.

## Форматы HTTP запросов и ответов API

1. #### Создание пользователя:

```html
POST https://project-mesto.ga/signup/
```
Тело запроса, JSON-объект, который должен содержать следующие поля:
```json
{
  "name":"имя",
  "about":"обо мне",
  "avatar":"ссылка на аватар",
  "email":"адрес электронной почты",
  "password":"пароль"
}
```
Тело ответа, JSON-объект:
```json
{
  "data": { 
            "_id":"id пользователя",
            "name":"имя",
            "about":"обо мне",
            "avatar":"ссылка на аватар",
            "email":"адрес электронной почты",
            "password":"пароль"
            "_v":0
          }
}
```
2. #### Авторизация:

```html
POST https://project-mesto.ga/signin/
```
Тело запроса, JSON-объект, который должен содержать следующие поля:
```json
{
  "email":"адрес электронной почты",
  "password":"пароль",
 }
```
При ответе генерируется токен и записывается в cookies, а также отправляется пользователю в теле ответа:
```json
{
  "token":"JSON Web токен"
}
```
3. #### Просмотр всех пользователей:

```html
GET https://project-mesto.ga/users/
```
Тело ответа, JSON-объект с массивом пользователей:
```json
{
  "data":[
         {...},
         {...},
         {...}
         ]
}
```
4. #### Просмотр конкретного пользователя:

```html
GET https://project-mesto.ga/users/:userid
```
параметр usedid - "_id" конкретного пользователя

Тело ответа, JSON-объект:
```json
{
    "data": {
              "_id":"id конкретного пользователя",
             "name":"имя",
            "about":"информация",
           "avatar":"ссылка на аватар",
               "_v":0
            }
}
```
5. #### Создание карточки:

```html
POST https://project-mesto.ga/cards/
```
Тело запроса, JSON-объект, который должен содержать следующие поля:
```json
{
  "name":"название",
  "link":"ссылка на изображение"
 }
```
Тело ответа, JSON-объект:
```json
{
    "data": {
        "likes": [],
        "_id": "id карточки",
        "name": "название",
        "link": "ссылка на изображение",
        "owner": "id владельца карточки",
        "createdAt":"дата создания",
        "__v": 0
    }
```
6. #### Просмотр всех карточек:

```html
GET https://project-mesto.ga/cards/
```
Тело ответа, JSON-объект с массивом карточек:
```json
{
  "data":[
         {...},
         {...},
         {...}
         ]
}
```
7. #### Удаление карточки:

Удалить карточку может только тот пользователь, который её создал.

```html
DELETE https://project-mesto.ga/cards/:cardId
```
параметр cardId - "_id" конкретной карточки

Тело ответа, JSON-объект:
```json
{
    "data": {
        "likes": [],
        "_id": "id карточки",
        "name": "название",
        "link": "ссылка на изображение",
        "owner": "id владельца карточки",
        "createdAt":"дата создания",
        "__v": 0
 }
```
## Форматы ответов API в случае ошибки

1. **Код:** 404 Неправильный адрес  

   **Тело ответа:** `{ error : "Карточка с данным Id не найдена" }` или 
`{ error : "Пользователь с данным Id не найден" }` или `{ error : "Запрашиваемый ресурс не найден" }`;

2. **Код:** 401 Ошибка авторизации  

   **Тело ответа:** `{ error : "Необходима авторизация" }`;

3. **Код:** 400 Ошибка в запросе

   **Тело ответа:** `{ error : "Введен некорректный id" }`;

4. **Код:** 403 Доступ запрещен

   **Тело ответа:** `{ error : "Карточка создана другим пользователем" }`;

5. **Код:** 500 Ошибка сервера

   **Тело ответа:** `{ error : "На сервере произошла ошибка" }`;
